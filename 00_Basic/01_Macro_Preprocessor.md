# 01. 매크로와 전처리기 (Macro & Preprocessor)

## 목적
이 파트는 C 코드가 컴파일되기 전에 수행되는 **전처리(preprocess)** 단계의 역할을 익히고,
`#define`, `#if`, `#ifdef` 같은 전처리기 지시문을 통해 코드가 어떻게 “변형”되는지 확인한다.

---

## 학습 내용
- `#define` : 상수/치환 정의
- 함수형 매크로와 괄호의 필요성
- 조건부 컴파일: `#if`, `#elif`, `#else`, `#endif`
- `#include`의 의미와 사용 이유
- 헤더 가드: `#ifndef ... #define ... #endif`의 의미

---

## 파일을 나누는 이유 (.h / .c)

C 프로젝트는 보통 다음처럼 나눈다.

### 1) `.h` (header)
- “이 파일에 이런 것이 있다”를 **미리 알리는 선언**을 모아둔다.
- 여러 `.c` 파일에서 같은 선언을 공유하기 위한 용도이다.
- 예: 함수 원형, 타입 정의(`struct`, `typedef`), 매크로 정의 등

### 2) `.c` (source)
- 실제 동작하는 **구현(로직)** 을 작성한다.
- 예: 함수의 본문, 계산 과정, 출력 등

> 요약: `.h`는 **함수의 선언**, `.c`는 **함수의 정의**이다.

---

## `#include`를 왜 쓰는가

`#include`는 “다른 파일의 내용을 여기로 가져와서 전처리 단계에서 합친다”는 의미다.

- `#include "a.h"` : 보통 **내 프로젝트의 헤더**를 포함할 때 사용
- `#include <stdio.h>` : 보통 **표준 라이브러리 헤더**를 포함할 때 사용

즉, 어떤 `.c` 파일에서 `.h`에 적힌 선언(매크로/함수 선언/타입)을 쓰려면
그 `.h`를 `#include`로 포함해야 한다.

---

## 헤더 가드가 왜 필요한가

헤더 파일은 여러 `.c`에서 포함될 수 있고,
또 하나의 `.c` 안에서도 간접적으로 “중복 포함”될 수 있다.

중복 포함이 발생하면
- 매크로 재정의 경고
- 타입/함수 선언의 중복 문제
등이 생길 수 있다.

이를 막기 위한 표준적인 패턴이 **헤더 가드**이다.

### 패턴
- `#ifndef X` : “X가 아직 정의되지 않았다면”
- `#define X` : “지금부터 X를 정의해서, 다음에는 다시 못 들어오게 한다”
- `#endif` : 조건부 영역 종료

즉, 헤더 내용을 **딱 1번만 포함되게** 만드는 장치다.
